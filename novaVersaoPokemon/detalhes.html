<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="detalhes.css">
    <title>Detalhes do Pokémon</title>
</head>

<body>

    <div class="container-geral-detalhes">
        <section id="pokemonDetails">
            <!-- Aqui serão exibidos os detalhes do Pokémon -->
           
          
        </section>

      
    </div>

    
    <div>
        <h2>Barra de Progresso</h2>
        <div id="containerDeBarras"></div>
    </div>
    <script src="script.js"></script>
    <script>

    

        window.onload = carregarDetalhesDoPokemon;

        function carregarDetalhesDoPokemon() {
            const parametrosURL = new URLSearchParams(window.location.search);
            const id = parametrosURL.get('id');

            const arrayPokemonsArmazenado = sessionStorage.getItem('arrayPokemons');
            const arrayPokemons = arrayPokemonsArmazenado ? JSON.parse(arrayPokemonsArmazenado) : [];

            const pokemon = arrayPokemons.find(p => p.id === parseInt(id));
            console.log(pokemon)

            const divDetalhesPokemon = document.getElementById('pokemonDetails');

            divDetalhesPokemon.innerHTML = `
                <h2>${pokemon.nome}</h2>
                <h3>Tipo(s):</h3>
                <ul>
                    ${pokemon.tipo.map(tipo => `<li>${tipo.toUpperCase()}</li>`).join('')}
                </ul>
                <h3>Moves:</h3>
                <ul>
                    ${pokemon.moves.map(move => `<li>${move.toUpperCase()}</li>`).join('')}
                </ul>
                <h3>Estatísticas:</h3>
                <ul>
                    ${pokemon.stats.map(stat => `<li>${stat.nome.toUpperCase()} - ${stat.valor}</li>`).join('')}
                </ul>
                <h3>Imagens:</h3>
                <ul>
                   <img src='${pokemon.imgCostas}'> </img>
                   <img src='${pokemon.imgFrente}'> </img>
                    
                </ul>
                
            `;

            barra(pokemon.stats)
            divDetalhesPokemon.style.backgroundColor = corPorTipo(pokemon).corBackground;

           
        }


        function barra(stats){
            stats.forEach(stat => {
            const hp = stat.valor;
            const nomeDaEstatistica = stat.nome;
            const larguraBarra = `${hp}%`;

          
            const barraDeProgresso = document.createElement('div');
            barraDeProgresso.className = 'barraDeProgresso';

        
            const barraDeProgressoInterior = document.createElement('div');
            barraDeProgressoInterior.className = 'barraDeProgressoInterior';
            barraDeProgressoInterior.style.width = larguraBarra;

           
            barraDeProgresso.appendChild(barraDeProgressoInterior);

         
            const nomeElemento = document.createElement('div');
            nomeElemento.className = 'nomeDaEstatistica';
            nomeElemento.textContent = nomeDaEstatistica;

          
            barraDeProgresso.appendChild(nomeElemento);

           
            containerDeBarras.appendChild(barraDeProgresso);
        });
        }

    </script>
</body>

</html>
